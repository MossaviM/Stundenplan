<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Oberstufe Lernspiel</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
<style>
body, html {margin:0; padding:0; font-family:'Inter',sans-serif; background:#f5f6fa; color:#333;}
* {box-sizing:border-box;}
header {background:#4a90e2; color:white; padding:1rem 2rem; font-size:1.5rem; font-weight:600; text-align:center; box-shadow:0 2px 10px rgba(0,0,0,0.1);}
.container {display:flex; min-height:calc(100vh - 64px);}
.sidebar {width:240px; background:#fff; border-right:1px solid #ddd; padding:1rem 0; display:flex; flex-direction:column; box-shadow:2px 0 10px rgba(0,0,0,0.05);}
.sidebar h3 {margin:1rem; font-size:1rem; color:#666; text-transform:uppercase; letter-spacing:0.5px;}
.sidebar button {background:none; border:none; padding:0.75rem 1.5rem; text-align:left; cursor:pointer; font-size:1rem; color:#333; width:100%; transition:0.3s; border-left:3px solid transparent;}
.sidebar button:hover, .sidebar button.active {background:#f0f4ff; border-left:3px solid #4a90e2;}
.main {flex:1; padding:2rem; overflow-y:auto;}
.card {background:#fff; border-radius:12px; padding:1.5rem; margin-bottom:1.5rem; box-shadow:0 5px 15px rgba(0,0,0,0.05); transition:0.3s; position:relative;}
.card.locked {opacity:0.5;}
.card h4 {margin-top:0; margin-bottom:0.5rem; font-size:1.2rem; color:#4a90e2;}
.card p {margin:0.5rem 0; line-height:1.5;}
.card input, .card select {width:100%; padding:0.5rem; margin:0.5rem 0; border:1px solid #ccc; border-radius:8px; font-size:1rem;}
.card button {background:#4a90e2; color:white; border:none; border-radius:8px; padding:0.5rem 1rem; cursor:pointer; transition:0.3s; margin-top:0.5rem;}
.card button:hover {background:#357ab8;}
.progress-bar {width:100%; background:#eee; border-radius:12px; overflow:hidden; margin-top:1rem;}
.progress {width:0%; height:20px; background:#4a90e2; text-align:center; color:white; font-weight:600; transition:0.5s;}
.level-badge {position:absolute; top:15px; right:15px; background:#ffcc00; color:#333; padding:0.3rem 0.6rem; border-radius:50%; font-weight:600;}
canvas {width:100%; height:300px; border-radius:12px; margin-top:1rem; background:#f9f9f9;}
@media(max-width:900px){.container{flex-direction:column;}.sidebar{width:100%; display:flex; flex-direction:row; overflow-x:auto;} .sidebar button{flex:1 0 auto; text-align:center; border-left:none; border-bottom:3px solid transparent;} .sidebar button:hover{border-bottom:3px solid #4a90e2;}}
</style>
</head>
<body>
<header>ðŸŽ“ Oberstufe Lernspiel</header>
<div class="container">
  <div class="sidebar" id="sidebar">
    <h3>11. Klasse</h3>
    <button onclick="ladeFach('11','mathe')">Mathematik</button>
    <button onclick="ladeFach('11','physik')">Physik</button>
    <button onclick="ladeFach('11','biologie')">Biologie</button>
    <button onclick="ladeFach('11','chemie')">Chemie</button>
    <button onclick="ladeFach('11','geschichte')">Geschichte</button>
    <button onclick="ladeFach('11','englisch')">Englisch</button>

    <h3>12. Klasse</h3>
    <button onclick="ladeFach('12','mathe')">Mathematik</button>
    <button onclick="ladeFach('12','physik')">Physik</button>
    <button onclick="ladeFach('12','biologie')">Biologie</button>
    <button onclick="ladeFach('12','chemie')">Chemie</button>
    <button onclick="ladeFach('12','geschichte')">Geschichte</button>
    <button onclick="ladeFach('12','englisch')">Englisch</button>

    <h3>13. Klasse</h3>
    <button onclick="ladeFach('13','mathe')">Mathematik</button>
    <button onclick="ladeFach('13','physik')">Physik</button>
    <button onclick="ladeFach('13','biologie')">Biologie</button>
    <button onclick="ladeFach('13','chemie')">Chemie</button>
    <button onclick="ladeFach('13','geschichte')">Geschichte</button>
    <button onclick="ladeFach('13','englisch')">Englisch</button>
  </div>

  <div class="main" id="main">
    <div class="card">
      <h4>Willkommen!</h4>
      <p>WÃ¤hle links deine Klasse und dein Fach aus, um Level freizuschalten und interaktiv zu lernen. Jede Aufgabe ist ein Level und schaltet neue frei!</p>
    </div>
  </div>
</div>

<script>
// Daten mit Level-Struktur
const faecher = {
  mathe: {titel:"Mathematik", aufgaben:[
    {text:"LÃ¶se die Gleichung ax+b=c", typ:"gleichung"},
    {text:"Berechne die Ableitung von f(x)=ax^n", typ:"ableitung"},
    {text:"Berechne das Integral von f(x)=ax^n", typ:"integral"}
  ]},
  physik: {titel:"Physik", aufgaben:[
    {text:"Berechne die Kraft F=m*a", typ:"kraft"},
    {text:"Geschwindigkeit v=s/t", typ:"geschwindigkeit"},
    {text:"Energie E=m*c^2", typ:"energie"}
  ]},
  biologie: {titel:"Biologie", aufgaben:[
    {text:"ErklÃ¤re die Zellteilung", typ:"text"},
    {text:"Nenne die DNA-Basen", typ:"text"},
    {text:"Genetische Vererbung", typ:"text"}
  ]},
  chemie: {titel:"Chemie", aufgaben:[
    {text:"Reaktionsgleichung: HCl + NaOH", typ:"reaktion"},
    {text:"StÃ¶chiometrische Berechnung", typ:"text"},
    {text:"SÃ¤uren und Basen", typ:"text"}
  ]}
};

// Fortschritt speichern
let progressData = {}; // z.B. progressData["11-mathe"] = 0;

function ladeFach(klasse, fach){
  const key = `${klasse}-${fach}`;
  if(!progressData[key]) progressData[key]=0;
  const main = document.getElementById("main");
  main.innerHTML = "";
  const data = faecher[fach];
  data.aufgaben.forEach((aufgabe,i)=>{
    const card = document.createElement("div");
    card.className="card";
    if(i>progressData[key]) card.classList.add("locked");
    card.innerHTML = `<h4>${data.titel} Level ${i+1}</h4><p>${aufgabe.text}</p><span class="level-badge">${i+1}</span>`;
    if(!card.classList.contains("locked")){
      if(aufgabe.typ=="gleichung") card.innerHTML+=`<input id="a" type="number" placeholder="a"><input id="b" type="number" placeholder="b"><input id="c" type="number" placeholder="c"><button onclick="loeseGleichung('${key}',${i})">LÃ¶sen</button>`;
      if(aufgabe.typ=="ableitung") card.innerHTML+=`<input id="coeff" type="number" placeholder="a"><input id="exponent" type="number" placeholder="n"><button onclick="berechneAbleitung('${key}',${i})">Ableitung</button>`;
      if(aufgabe.typ=="integral") card.innerHTML+=`<input id="coeffInt" type="number" placeholder="a"><input id="expInt" type="number" placeholder="n"><button onclick="berechneIntegral('${key}',${i})">Integral</button>`;
      if(aufgabe.typ=="kraft") card.innerHTML+=`<input id="m" type="number" placeholder="Masse (kg)"><input id="a_phys" type="number" placeholder="Beschleunigung (m/sÂ²)"><button onclick="berechneKraft('${key}',${i})">Berechnen</button>`;
      if(aufgabe.typ=="reaktion") card.innerHTML+=`<input id="stoff1" type="text" placeholder="z.B. HCl"><input id="stoff2" type="text" placeholder="z.B. NaOH"><button onclick="chemReaktion('${key}',${i})">Reaktion simulieren</button>`;
    }
    main.appendChild(card);
  });
}

// Level abschlieÃŸen
function levelAbschliessen(key, level){
  if(progressData[key]<=level){
    progressData[key]=level+1;
    ladeFach(key.split("-")[0], key.split("-")[1]);
    alert("âœ… Level abgeschlossen! Neues Level freigeschaltet.");
  }
}

// Mathe-Funktionen
function loeseGleichung(key,level){const a=Number(document.getElementById("a").value),b=Number(document.getElementById("b").value),c=Number(document.getElementById("c").value);if(a===0){alert("a darf nicht 0 sein."); return;}alert(`LÃ¶sung: x=${(c-b)/a}`); levelAbschliessen(key,level);}
function berechneAbleitung(key,level){const a=Number(document.getElementById("coeff").value),n=Number(document.getElementById("exponent").value);alert(`Ableitung: f'(x)=${a*n}x^${n-1}`); levelAbschliessen(key,level);}
function berechneIntegral(key,level){const a=Number(document.getElementById("coeffInt").value),n=Number(document.getElementById("expInt").value);alert(`Integral: âˆ«f(x)dx=${a/(n+1)}x^${n+1}+C`); levelAbschliessen(key,level);}
function berechneKraft(key,level){const m=Number(document.getElementById("m").value),a_phys=Number(document.getElementById("a_phys").value);alert(`F=${m*a_phys} N`); levelAbschliessen(key,level);}
function chemReaktion(key,level){const s1=document.getElementById("stoff1").value,s2=document.getElementById("stoff2").value;if(!s1||!s2){alert("Bitte beide Stoffe eingeben.");return;}alert(`Simulation: ${s1}+${s2} â†’ Produkt(e)`); levelAbschliessen(key,level);}
</script>
</body>
</html>
